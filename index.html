<!DOCTYPE html>
<html>
<head>
  <title>User Data Mini App</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <h1>User Data Mini App</h1>

  <form id="user-form">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name"><br><br>

    <label for="age">Age:</label>
    <input type="number" id="age" name="age"><br><br>

    <input type="submit" value="Save">
  </form>

  <div id="user-data">
    <h2>User Data</h2>
    <p>Name: <span id="display-name"></span></p>
    <p>Age: <span id="display-age"></span></p>
  </div>

  <script>
    window.Telegram.WebApp.ready();

    const userForm = document.getElementById('user-form');
    const displayName = document.getElementById('display-name');
    const displayAge = document.getElementById('display-age');

    // Load user data from localStorage
    const userData = JSON.parse(localStorage.getItem('userData')) || {};
    displayName.textContent = userData.name || '';
    displayAge.textContent = userData.age || '';

    userForm.addEventListener('submit', (event) => {
      event.preventDefault();

      const name = document.getElementById('name').value;
      const age = document.getElementById('age').value;

      // Save user data to localStorage
      const userData = { name, age };
      localStorage.setItem('userData', JSON.stringify(userData));

      displayName.textContent = name;
      displayAge.textContent = age;
    });
  </script>
</body>
</html>
